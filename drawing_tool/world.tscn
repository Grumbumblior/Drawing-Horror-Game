[gd_scene load_steps=19 format=3 uid="uid://bgvpmhc5kqmfk"]

[ext_resource type="Script" path="res://world.gd" id="1_j4cq3"]
[ext_resource type="PackedScene" uid="uid://c3b5ki3ke7o61" path="res://player/player.tscn" id="1_uqokv"]
[ext_resource type="PackedScene" uid="uid://c0dqnydg11xhd" path="res://UI/hud.tscn" id="3_5lixg"]
[ext_resource type="PackedScene" uid="uid://b8w1bgk3il3op" path="res://enemies/enemy.tscn" id="3_di7yc"]
[ext_resource type="Texture2D" uid="uid://dt3qu4po8ugdn" path="res://textures/Ground Stones/GroundStones_Height.jpg" id="4_iuqyw"]
[ext_resource type="Texture2D" uid="uid://t00hlrdb2r4h" path="res://textures/GroundStones_Ambient Occlusion.jpg" id="5_t0p2p"]
[ext_resource type="Texture2D" uid="uid://dwhilb1c1qp26" path="res://textures/Ground Stones/GroundStones_Metallic.jpg" id="6_mtqhm"]
[ext_resource type="Texture2D" uid="uid://ckd5wtqckylyc" path="res://textures/Ground Stones/GroundStones_Normal.jpg" id="7_wrrpy"]
[ext_resource type="Texture2D" uid="uid://w7k25wxc7t7p" path="res://textures/Ground Stones/GroundStones_Roughness.jpg" id="8_0cfps"]
[ext_resource type="PackedScene" uid="uid://btrtinkfcd7pt" path="res://environment/Items/runestone.tscn" id="9_wdj1s"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ak3sl"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_oa3sj"]
sky_material = SubResource("ProceduralSkyMaterial_ak3sl")

[sub_resource type="Environment" id="Environment_1nn37"]
background_mode = 1
sky = SubResource("Sky_oa3sj")
tonemap_mode = 2
glow_enabled = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.1
volumetric_fog_albedo = Color(0.363112, 0.0347508, 0.136552, 1)
adjustment_enabled = true
adjustment_contrast = 1.2
adjustment_saturation = 1.5

[sub_resource type="NavigationMesh" id="NavigationMesh_beyeb"]
vertices = PackedVector3Array(-22.146, 0.25211, -21.434, -21.646, 0.25211, -21.684, -21.646, 0.25211, -23.934, -6.396, 0.25211, -23.934, -6.146, 0.25211, -22.934, 9.604, 0.25211, -22.934, 9.604, 0.25211, -217.684, -21.396, 0.25211, 9.56601, -21.396, 0.25211, -16.184, -22.146, 0.25211, -16.434, -218.896, 0.25211, 9.56601, -218.896, 0.25211, -217.684, -5.646, 0.25211, -0.93399, -2.646, 0.25211, 1.81601, -2.396, 0.25211, 1.31601, 1.854, 0.25211, 1.31601, 2.104, 0.25211, 2.31601, 8.854, 0.25211, 2.31601, 8.854, 0.25211, -10.434, 9.604, 0.25211, -10.684, -6.146, 0.25211, -21.934, -6.646, 0.25211, -21.684, -20.396, 0.25211, -16.684, -20.646, 0.25211, -21.684, -0.145996, 0.25211, 8.81601, -0.145996, 0.25211, 7.56601, -1.146, 0.25211, 7.31601, -10.146, 0.25211, 8.81601, -1.146, 0.25211, 5.56601, -0.145996, 0.25211, 5.31601, -0.145996, 0.25211, 3.56601, -2.396, 0.25211, 3.56601, -10.396, 0.25211, 9.56601, -20.646, 0.25211, -16.184, 1.104, 0.25211, 7.31601, 8.854, 0.25211, 8.81601, 1.104, 0.25211, 5.56601, 1.854, 0.25211, 3.56601)
polygons = [PackedInt32Array(0, 2, 1), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(2, 0, 6), PackedInt32Array(6, 0, 11), PackedInt32Array(11, 0, 10), PackedInt32Array(6, 3, 2), PackedInt32Array(0, 9, 10), PackedInt32Array(14, 13, 12), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(15, 14, 12), PackedInt32Array(5, 19, 18), PackedInt32Array(20, 5, 21), PackedInt32Array(21, 5, 18), PackedInt32Array(21, 18, 12), PackedInt32Array(12, 18, 15), PackedInt32Array(20, 4, 5), PackedInt32Array(23, 21, 22), PackedInt32Array(22, 21, 12), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(29, 28, 30), PackedInt32Array(30, 28, 31), PackedInt32Array(27, 32, 7), PackedInt32Array(28, 26, 31), PackedInt32Array(31, 26, 27), PackedInt32Array(12, 13, 31), PackedInt32Array(31, 27, 12), PackedInt32Array(12, 27, 7), PackedInt32Array(12, 7, 33), PackedInt32Array(33, 7, 8), PackedInt32Array(12, 33, 22), PackedInt32Array(25, 34, 24), PackedInt32Array(24, 34, 35), PackedInt32Array(29, 30, 36), PackedInt32Array(36, 30, 37), PackedInt32Array(37, 16, 17), PackedInt32Array(36, 37, 34), PackedInt32Array(34, 37, 17), PackedInt32Array(34, 17, 35)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_s0hdw"]
albedo_color = Color(0.286275, 1, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1a1cv"]
albedo_color = Color(0.286275, 1, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_53ab4"]
albedo_color = Color(0.286275, 1, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0o2v8"]
albedo_texture = ExtResource("4_iuqyw")
metallic = 1.0
metallic_texture = ExtResource("6_mtqhm")
roughness_texture = ExtResource("8_0cfps")
normal_enabled = true
normal_texture = ExtResource("7_wrrpy")
ao_enabled = true
ao_texture = ExtResource("5_t0p2p")
heightmap_enabled = true
heightmap_texture = ExtResource("4_iuqyw")

[node name="World" type="Node3D"]
script = ExtResource("1_j4cq3")

[node name="Home" type="Marker3D" parent="."]
transform = Transform3D(0.299173, 0, 0, 0, 0.299173, 0, 0, 0, 0.299173, 0, 4.66344, 2.46061)

[node name="Player" parent="." instance=ExtResource("1_uqokv")]
transform = Transform3D(0.299173, 0, 0, 0, 0.299173, 0, 0, 0, 0.299173, -13.6012, 0.721227, -20.3192)

[node name="CanvasLayer2" type="CanvasLayer" parent="Player"]
layer = 0

[node name="HUD" parent="Player/CanvasLayer2" instance=ExtResource("3_5lixg")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 10.3408, 9.83246, 14.7727)
visible = false
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1nn37")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_beyeb")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(20, 0, 0, 0, 1.874, 0, 0, 0, 20, -104.698, 0, -104.092)
use_collision = true
size = Vector3(11.4698, 0.002, 11.4092)
material = SubResource("StandardMaterial3D_s0hdw")

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(21.8163, 0, 0, 0, 1.42193, 0, 0, 0, 0.541017, 0.112164, 0.737482, 9.72407)
use_collision = true
collision_layer = 3
collision_mask = 3
size = Vector3(0.906982, 1, 1)
material = SubResource("StandardMaterial3D_1a1cv")

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(0.0765323, -2.18037e-10, -0.541014, 1.90723e-06, 1.42193, 8.29613e-11, 21.8161, -1.24308e-07, 0.00189791, 9.82123, 0.847919, -0.0814951)
use_collision = true
size = Vector3(0.910889, 1, 1)
material = SubResource("StandardMaterial3D_53ab4")

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.354674, 1.28263, 2.4258)
use_collision = true
collision_layer = 3
collision_mask = 3
size = Vector3(3.47803, 3.06104, 1)

[node name="CSGBox3D8" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(4.18498, 0, 0, 0, 1, 0, 0, 0, 1, -14.059, 1.28263, -22.925)
use_collision = true
collision_layer = 3
collision_mask = 3
size = Vector3(3.47803, 3.06104, 1)
material = SubResource("StandardMaterial3D_0o2v8")

[node name="CSGBox3D7" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.145485, 1.52705, 6.34999)
use_collision = true

[node name="Runestone" parent="NavigationRegion3D" instance=ExtResource("9_wdj1s")]
transform = Transform3D(-4.37114e-08, 0, 0.402021, 0, 1.6897, 0, -1, 0, -1.75729e-08, -21.3424, 0.818823, -17.4208)

[node name="Runestone2" parent="NavigationRegion3D" instance=ExtResource("9_wdj1s")]
transform = Transform3D(-4.37114e-08, 0, 0.402021, 0, 1.6897, 0, -1, 0, -1.75729e-08, -21.3424, 0.818823, -18.9325)
runeNum = 1

[node name="Runestone3" parent="NavigationRegion3D" instance=ExtResource("9_wdj1s")]
transform = Transform3D(-4.37114e-08, 0, 0.402021, 0, 1.6897, 0, -1, 0, -1.75729e-08, -21.3424, 0.818823, -20.6173)
runeNum = 2

[node name="Enemy" parent="." node_paths=PackedStringArray("waypoints") instance=ExtResource("3_di7yc")]
transform = Transform3D(0.508425, 0, -0.861106, 0, 1, 0, 0.861106, 0, 0.508425, -5.07881, 1.57088, -2.9504)
waypoints = [NodePath("../Marker3D"), NodePath("../Marker3D2"), NodePath("../Marker3D3")]

[node name="Marker3D" type="Marker3D" parent="." groups=["EnemyWaypoint"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.24587, 1.01764, 5.93192)

[node name="Marker3D2" type="Marker3D" parent="." groups=["EnemyWaypoint"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.97316, 0.954262, 6.32846)

[node name="Marker3D3" type="Marker3D" parent="." groups=["EnemyWaypoint"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.00065, 0.954262, -3.04971)
